
#!text
#:kivy 1.7.2
#:import Factory kivy.factory.Factory

#:set color_button (0.04,0.09,0.14, 1)  # brown
#:set color_button_pressed (0.04,0.09,0.14, 1)  # darker brown
#:set color_font   (0.957, 0.890, 0.843, 1)  # off white

<MySpinnerOption@SpinnerOption>:
    background_color: color_button if self.state == 'down' else color_button_pressed
    color: color_font

<MainLayout>
    spacing: 1
    orientation: 'vertical'
    padding: 5
    Spinner:
        id: head_spinner
        text: 'choose your translator'
        values: 'Google Translate', 'Pons', 'Linguee'
        size_hint: 1., .1
        background_color: color_button if self.state == 'normal' else color_button_pressed
        color: color_font
        font_size: 20

        option_cls: Factory.get("MySpinnerOption")

    TextInput:
        id: to_translate
        size_hint: 1., .3
#        on_text: result_label.text = root.translate(source=from_spinner.text,target=to_spinner.text,text=self.text)
    BoxLayout:
        spacing: 2
        size_hint: 1., .1
        Spinner:
            id: from_spinner
            text: 'auto'
            values: root.get_supported_languages(auto_included=True)
#            background_color: 0, 0, 1, .7
            background_color: color_button if self.state == 'normal' else color_button_pressed
            color: color_font
            option_cls: Factory.get("MySpinnerOption")
        Spinner:
            id: to_spinner
            text: 'english'
            values: root.get_supported_languages()
#            background_color: 0, 0, 1, .7
            background_color: color_button if self.state == 'normal' else color_button_pressed
            color: color_font
            option_cls: Factory.get("MySpinnerOption")
        Button:
            text: 'Translate'
            background_color: 0, 0, 1, .7
            on_release: result_label.text = root.translate(source=from_spinner.text,target=to_spinner.text,text=to_translate.text)

    Label:
        id: result_label
        font_size: 50
        font_name: 'font/arial-unicode-ms.ttf' # 'arial'
        size: self.texture_size
        text_size: self.size


